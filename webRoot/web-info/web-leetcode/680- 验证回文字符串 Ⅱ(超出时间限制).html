<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title> 验证回文字符串 Ⅱ</title>
</head>
<body>
<pre>
给定一个非空字符串 s，最多删除一个字符。判断是否能成为回文字符串。

示例 1:

输入: "aba"
输出: True
示例 2:

输入: "abca"
输出: True
解释: 你可以删除c字符。
注意:

字符串只包含从 a-z 的小写字母。字符串的最大长度是50000。
</pre>

<script>
    /**
     * @param {string} s
     * @return {boolean}
     */
    let s = "vsiwazjfzouvcamafffgchzshbsrvwzfukazpnhvczetpknpnficnoqrvsnayexqrqaadfokcoasoddkgfbxmyjznehsauwanbqfqkikbazqqchjwxpowpchsgmgaouhgyunviitvfhezgvzuptjpsrscvopikxusgnzbnzgoycflugfwcdxjnukxtwxvkorfxocxxregkndipxrvpyxnytledvmnnwiwkxsaffvfxtxargpuqqzulvdrtczvbkjustsjeqfyzofuwskhcrufgdhgzmgqojovlyqnnbsbxavvhotoswaluldyqzflfxxahixaqoyiwsjshdfjwkahgskamgqyhuyjxtdpcmyzrpyhxyftmrpggfshxnsbhxwvbqiyolznanerwromchmqgcccamrwdwcpgmxmlysywdoudnqrgvnklxoxuhkkcmoytxgrvfnbklcdrabzwfnolxrzntvzgriqxrhyzesbyrmumcyhhxwlcznhyjmjxrsctpapylsnhdyctuzufofgucindgxcvzfoegvrlxefwbdlemfnvyzgzhemqnsookupkxivgslilrzjoipyzzismaogoauhvnhmwklprnpxenwdlgowhjiwpbckuyuelkyvgqnocmzyejelzipdxvcunadvlfgamzltqhgnhmdbyjjidxlqmwezqwtbkaqkzfthfdbjsqahcgbdpbeoebtpfdnxaxztgschpeemznavcbeerpypierbbuzsgjogtazbobighixsquunozhemihiplxgfbscnhbcgqhrcfzkaczkpvwulpqygmjhisedbbgpcptnpgafugxdeendrksurjemtestqzfdafcfnueaistkguirxnkbnurkvpxqyfpjmjubxhiwtdozegoxezuuzieioaosthyozmhjwffgxywuugsxysmyznrwsuvqrsfmimulknwyyxfudmsijqpvomgytxvingtgvearjadvohsjyhiwzbnwnsqlexkaaegijgrldofzmwienivmjoltkjtvbyxezkjiefyillqnrldmfngghinxpzqwobqevxtyjwhljcidzljakpmcvjgbagjglgckckcvizrnnlukdbajfackefwuxxeuyvfmzdcnooxwousiyfuwcmxppvzntawkrzndiifjqusmbesfyugevavkclkbglbqbpybgbysmcokkueqhahigijssxxqotoqlfvicsdlxxmtarulxjvxpiirhwdwitasgznbtwqrylxwmvnxukxavppibhcqvtonujppkzqqxihmcgtqkphparlnufrydawphuqbnkbvixwydmqaqxlxtkuaneuxgpqkqaguaduzmtxeiuggtsngsftfpjreqxyuxdzirgqjsdwnrudevcjuukdlujnssoatjwqltdewfnafolpjzelsrfthwalxxewrucvgqkvzcdtmgzylecasixvsttsssfvguncaoomhdahxpjswldzamtigklvnxrxdrpcwsbrattasikquocqpxtmnoenzmhcfaolrjpfcjagrrouuoksgvdmhaoegmfukkohiynmkjcysxafsrrpflqdtpbujlnevppqhbfmqiogtyqinqvjoqrcmversgsifldylnjuzvgbxxsbjedrsctsoehsrbaabpnjlbjhdcfewdhirdaewingqekqqncummxuqnueksyftfvbiophnfqsyoghvrfdgyzrmvszcvzeuhgdbaffexdojcldgbzjbftxgihpspzvhpofnimgikockejeaqgdhtiijlnhgybkpkjnknskzeawxrneizmqccdfnseychflqoaouqmmbwxstqrpeifbaemxemyezukmqkxbxejuxdjzaogqbzquwwhfsqrabbtbkvrxquzlqyltdqoonsqcbgiwhpwhnylcuswvrepkxxuvsxwuowglynlvwsbrzepvgtwzwgwidlbuayupovebepismnsashlujmwjkwkmlfibnvvprbswcoitawqadknczbnyczsdqhnppaoxpokrolqvubcstuzudqulxbrmtnpqlkixrnlnklbolzwqotbipiaglwwytvtapvskjpxhegleotrhtkvrjuwujgcphjfcbkxxoiypzvhoatoryfofhjiogwvhzhfycshazycmuhrilzyfvumfwvpftmnobvlqjnplwcchwfbzqbbylqogosffjxupazgzfcagashuvpfdqlnguyhlwosbbnbcwucljnmefavowbejmrjihiywbgwocomxqcyhdgzhtivzcqpdbzmxryvpajzeeckaznifwprdasbigthrwqyeyelqmtubmppqfyakkdujdaozunpivzrczbkuxzutopaybqlhzlpdsdiksmawheebntaptqcwcegfyzfbxrcyzsswbbrupbfgyxitgmdxzagnzfeeqorktewclcbfzjtrpdfswqxdoloiwaywaihbjiczgqemdalmdrerrxdshqufxunjpwabqgtgvlccpsfosefxvnvryxmhwcpcvulajzshrrhlenlcutlfscxxpnzfpfbcozejfaijoirprbcgdqlmsjfoigtxlzeiowrgdxzgivchdngvuiegzupiygjiitxaidpbhaurlqxzglihvqxbdryvwwcaaeiajugvumnpibzglprqzkgjuzdxchlhywxavilhlafvwglqxjbguhczzpgksfmtlurpzqgvyviyjjtggrdujpwvwwqcnapkniqythqdjqvctucedqkbsocicfarveheidyrfvsjowcavfumtxymtmjrklvkbpbyqzvhtjrsfjrvyvunlzmsdrpxhalrrytkptkiarcxaxyhyycpluonlhraignfcxrrargfrybyodffpegyyzlussizufkspixgloxehfbdjtazzcwedeqdylxtvnbsrjfrqdmpfxrwyahsydbzkoqsemssuivdxiokiidwjtpgadwmzymeuzpyqrshpaixaewyinbvulgrewxxkldgmdzfhzjjvzloewdyrfiuejpstdrjocrqrsxypxgyhpdmrzwyacluzwkizrsiwhcnpbbyvikxtjcrwtsatqxbagbbwhhdpqpaheuqzgyqmumvajohvbpcsnqhtyslngazrlsqputrvtgbdsqzbwivblaenppvgnflesbfsgkylavbjdzvxmkazmhbrippymfclrtojjoortwinyqblirajmusrluxbeahkpzmhwccdrpbssfngmfxttyeathdgyfdholvbhoqfotxhefmzetilyeftwoggdlguvgrkhsvbrgzqtmhrieavtmmgpcdikmckndxmxhgwoukvnohfiwqxwjsxdekknmstbvsnzwtyflvgjcpecotnailxghjmiwykvkmuewrcjmujvwdosyngailasvyipskrqqdkjbgmttegkwbovdvyfeabsgguapumvudbcqiehvgspxyiqqbjposnlbgshjdexwjittotusvmuwumctjiwskpprbqsruzqtxjqtvfugtkrdpotvzysoxyzqgqqovujmgecgrnxtfgigtzyapofbcqfazsgkjsspxszkhkwdunefwipwgfelfprcdaywgvtwbteoxbqhnqzlgrohuofhlqnwugacbjfxhlekhkepwbpkhbhxfiyeqrcuqxuxuhalwmdzooezzconksqkfmxqonsrtetoggfnpbzuptjjdsjmysyqyusuaerxroykqrplbfbfeadzukjrdbvsxincdllwvjqwcchrourweoxqirgelkgxdirljwmoxfortscmmpbetwwdqbpiovttygeufernqhgfelsjelucriuqtgtljyxdoczvjybvrevamiatgkuvqibqrcgtuzsrwedvddpwxmfiozwrhvaqdgswqoixjxwgcuqzvwabtcojfhtebejxbdzvlufuirfckxrzoyjhjxznvwvyrbvsjxnbeytuguaapyovdufrorjjgwdjetpmbcyuhpaglcszslkxpkymquwesgtwyewjgorqjgkehxzlcdfpgvkjzrfxpqvzhitihqzyxcscedjitbiuvalvjjhmvfglftkeyehggaupswhxecoyqmudisarwvbtfpoekvucmonynvmbwpofxiguadyzskhozfslpxymvaoeeuhrjniontmoncvuxsxcsndsvncsgjekgdwnwyxzxotjgoedsjceinaeyazzamqciiwceyncxkxubgphdbwfeigunzfztcibgbfhuqjkceulqqvfzpgrujdspncumulpkhhbzdordluqwadhigzxumpqvhqxjktkivjlnkfqsfdyoogsbmvtdowyalomtkvkgwknmhtehevnuuhljiwgpyrlwkuteivwmklpvptlxbvgrdpnjwnlddlffpkgafubuhtccnipuwheukuverqvvpwuvigpvdfzqdmasjewqbdoaexmfjxjxsnlbqqklajcdnsiexgrmobixnuqdtselivptogoaoygofdguoghsctzohvbzczejzowzttpsjbxymcjwgayjubyjymswzwzhrbzaztazqdymckhlzzzlgapvsaaeqpxtyahludjkviglcpywrghdpenfyxuzfjryhauiqfocbujqxmqsburgqvubviahsppjqvrwkfualyaxlqijjzwirfodihbxgeiemmgomgsyjbctjwqkomclzefxzglntlhfwvvpneefrzftyzblqwpwflvpkhiabdnevmbamlxgpkezjyzyberehsogycwabbueegwurizlhddotikgmmvqtpdyfdtjbwejreblvlxtciqmjtjlvxcftzdohosmqbeztkckzzvuosztdnanhabqtfpoojqduzwxvunpgebvngfdckizxnrnzrxsmxovdcbwpoyfuetodoteufyopwbcdvoxmsxrznrnxzikcdfgnvbegpnuvxwzudqjoopftqbahnandtzsouvzzkcktzebqmsohodztfcxvljtjmqictxlvlberjewbjtdfydptqvmmgkitoddhlziruwgeeubbawcygosherebyzyjzekpgxlmabmvendbaihkpvlfwpwqlbzytfzrfeenpvvwfhltnlgzxfezlcmokqwjtcbjysgmogmmeiegxbhidofriwzjjiqlxaylaufkwrvqjppshaivbuvqgrubsqmxqjubcofqiuahyrjfzuxyfnepdhgrwypclgivkjdulhaytxpqeaasvpaglzzzlhkcmydqzatzazbrhzwzwsmyjybujyagwjcmyxbjspttzwozjezczbvhoztcshgougdfogyoaogotpvilestdqunxibomrgxeisndcjalkqqblnsxjxjfmxeaodbqwejsamdqzfdvpgivuwpvvqrevukuehwupinccthubufagkpfflddlnwjnpdrgvbxltpvplkmwvietukwlrypgwijlhuunvehethmnkwgkvktmolaywodtvmbsgooydfsqfknljviktkjxqhvqpmuxzgihdawquldrodzbhhkplumucnpsdjurgpzfvqqlueckjquhfbgbictzfznugiefwbdhpgbuxkxcnyecwiicqmazzayeaniecjsdeogjtoxzxywnwdgkejgscnvsdnscxsxuvcnomtnoinjrhueeoavmyxplsfzohkszydaugixfopwbmvnynomcuvkeopftbvwrasidumqyocexhwspuaggheyektflgfvmhjjvlavuibtijdecscxyzqhitihzvqpxfrzjkvgpfdclzxhekgjqrogjweywtgsewuqmykpxklszsclgaphuycbmptejdwgjjrorfudvoypaaugutyebnxjsvbryvwvnzxjhjyozrxkcfriufulvzdbxjebethfjoctbawvzqucgwxjxioqwsgdqavhrwzoifmxwpddvdewrszutgcrqbiqvukgtaimavervbyjvzcodxyjltgtquirculejslefghqnrefuegyttvoipbqdwwtebpmmcstrofxomwjlridxgklegriqxoewruorhccwqjvwlldcnixsvbdrjkuzdaefbfblprqkyorxreausuyqysymjsdjjtpuzbpnfggotetrsnoqxmfkqsknoczzeoozdmwlahuxuxqucrqeyifxhbhkpbwpekhkelhxfjbcaguwnqlhfouhorglzqnhqbxoetbwtvgwyadcrpflefgwpiwfenudwkhkzsxpssjkgszafqcbfopayztgigftxnrgcegmjuvoqqgqzyxosyzvtopdrktgufvtqjxtqzursqbrppkswijtcmuwumvsutottijwxedjhsgblnsopjbqqiyxpsgvheiqcbduvmupauggsbaefyvdvobwkgettmgbjkdqqrkspiyvsaliagnysodwvjumjcrweumkvkywimjhgxliantocepcjgvlfytwznsvbtsmnkkedxsjwxqwifhonvkuowghxmxdnkcmkidcpgmmtvaeirhmtqzgrbvshkrgvugldggowtfeylitezmfehxtofqohbvlohdfygdhtaeyttxfmgnfssbprdccwhmzpkhaebxulrsumjarilbqyniwtroojjotrlcfmyppirbhmzakmxvzdjbvalykgsfbselfngvppnealbviwbzqsdbgtvrtupqslrzagnlsythqnscpbvhojavmumqygzquehapqpdhhwbbgabxqtastwrcjtxkivybbpnchwisrzikwzulcaywzrmdphygxpyxsrqrcojrdtspjeuifrydweolzvjjzhfzdmgdlkxxwergluvbniyweaxiaphsrqypzuemyzmwdagptjwdiikoixdviussmesqokzbdyshaywrxfpmdqrfjrsbnvtxlydqedewczzatjdbfhexolgxipskfuzissulzyygepffdoybyrfgrarrxcfngiarhlnoulpcyyhyxaxcraiktpktyrrlahxprdsmzlnuvyvrjfsrjthvzqybpbkvlkrjmtmyxtmufvacwojsvfrydiehevrafcicosbkqdecutcvqjdqhtyqinkpancqwwvwpjudrggtjjyivyvgqzprultmfskgpzzchugbjxqlgwvfalhlivaxwyhlhcxdzujgkzqrplgzbipnmuvgujaieaacwwvyrdbxqvhilgzxqlruahbpdiaxtiijgyipuzgeiuvgndhcvigzxdgrwoiezlxtgiofjsmlqdgcbrpriojiafjezocbfpfznpxxcsfltuclnelhrrhszjaluvcpcwhmxyrvnvxfesofspcclvgtgqbawpjnuxfuqhsdxrrerdmladmeqgzcijbhiawyawiolodxqwsfdprtjzfbclcwetkroqeefzngazxdmgtixygfbpurbbwsszycrxbfzyfgecwcqtpatnbeehwamskidsdplzhlqbyapotuzxukbzcrzvipnuzoadjudkkayfqppmbutmqleyeyqwrhtgibsadrpwfinzakceezjapvyrxmzbdpqczvithzgdhycqxmocowgbwyihijrmjebwovafemnjlcuwcbnbbsowlhyugnlqdfpvuhsagacfzgzapuxjffsogoqlybbqzbfwhccwlpnjqlvbonmtfpvwfmuvfyzlirhumcyzahscyfhzhvwgoijhfofyrotaohvzpyioxxkbcfjhpcgjuwujrvkthrtoelgehxpjksvpatvtywwlgaipibtoqwzloblknlnrxiklqpntmrbxluqduzutscbuvqlorkopxoappnhqdszcynbzcnkdaqwatiocwsbrpvvnbiflmkwkjwmjulhsasnmsipebevopuyaubldiwgwzwtgvpezrbswvlnylgwouwxsvuxxkpervwsuclynhwphwigbcqsnooqdtlyqlzuqxrvkbtbbarqsfhwwuqzbqgoazjdxujexbxkqmkuzeymexmeabfieprqtsxwbmmquoaoqlfhcyesnfdccqmzienrxwaezksnknjkpkbyghnljiithdgqaejekcokigminfophvzpsphigxtfbjzbgdlcjodxeffabdghuezvczsvmrzygdfrvhgoysqfnhpoibvftfyskeunquxmmucnqqkeqgniweadrihdwefcdhjbljnpbaabrsheostcsrdejbsxxbgvzujnlydlfisgsrevmcrqojvqniqytgoiqmfbhqppvenljubptdqlfprrsfaxsycjkmnyihokkufmgeoahmdvgskouuorrgajcfpjrloafchmzneonmtxpqcouqkisattarbswcprdxrxnvlkgitmazdlwsjpxhadhmooacnugvfsssttsvxisacelyzgmtdczvkqgvcurwexxlawhtfrslezjplofanfwedtlqwjtaossnjuldkuujcvedurnwdsjqgrizdxuyxqerjpftfsgnstgguiextmzudaugaqkqpgxuenauktxlxqaqmdywxivbknbquhpwadyrfunlraphpkqtgcmhixqqzkppjunotvqchbippvaxkuxnvmwxlyrqwtbnzgsatiwdwhriipxvjxluratmxxldscivflqotoqxxssjigihahqeukkocmsybgbypbqblgbklckvaveguyfsebmsuqjfiidnzrkwatnzvppxmcwufyisuowxooncdzmfvyuexxuwfekcafjabdkulnnrzivckckcglgjgabgjvcmpkajlzdicjlhwjytxveqbowqzpxnihggnfmdlrnqlliyfeijkzexybvtjktlojmvineiwmzfodlrgjigeaakxelqsnwnbzwihyjshovdajraevgtgnivxtygmovpqjismdufxyywnklumimfsrqvuswrnzymsyxsguuwyxgffwjhmzoyhtsoaoieizuuzexogezodtwihxbujmjpfyqxpvkrunbknxriugktsiaeunfcfadfzqtsetmejruskrdneedxgufagpntpcpgbbdesihjmgyqpluwvpkzcakzfcrhqgcbhncsbfgxlpihimehzonuuqsxihgibobzatgojgszubbreipypreebcvanzmeephcsgtzxaxndfptbeoebpdbgchaqsjbdfhtfzkqakbtwqzewmqlxdijjybdmhnghqtlzmagflvdanucvxdpizlejeyzmconqgvykleuyukcbpwijhwogldwnexpnrplkwmhnvhuaogoamsizzypiojzrlilsgvixkpukoosnqmehzgzyvnfmeldbwfexlrvgeofzvcxgdnicugfofuzutcydhnslypaptcsrxjmjyhnzclwxhhycmumrybsezyhrxqirgzvtnzrxlonfwzbardclkbnfvrgxtyomckkhuxoxlknvgrqnduodwysylmxmgpcwdwrmacccgqmhcmorwrenanzloyiqbvwxhbsnxhsfggprmtfyxhyprzymcpdtxjyuhyqgmaksghakwjfdhsjswiyoqaxihaxxflfzqydlulawsotohvvaxbsbnnqylvojoqgmzghdgfurchkswufozyfqejstsujkbvzctrdvluzqqupgraxtxfvffasxkwiwnnmvdeltynxypvrxpidnkgerxxcoxfrokvxwtxkunjxdcwfgulfcyogznbzngsuxkipovcsrspjtpuzvgzehfvtiivnuyghuoagmgshcpwopxwjhcqqzabkikqfqbnawuashenzjymxbfgkddosaockofdaaqrqxeyansvrqoncifnpnkptezcvhnpzakufzwvrsbhszhcgfffamacvuozfjzawisv";
    //let s = "aba";
    //    let s = "dfvvjocecrdqnznplqfkwvcielkplkbgiyakwzredvjyczczegcgezczcyjvderzwkayigbklpkleicvwkfqlpnznqdrcecojvvfd";
    let validPalindrome = function (s) {

        let len = s.length;
        let first = 0;

        if (len > 5000) {
            for (let j = 100; j < len; j += 100) {
                if (s.substring(j - 100, j) != s.substring(len - j, len - j + 100)) {
                    first = j - 100 < 0 ? 0 : j - 100;
                    break;
                }
            }
        }

        for (let i = first; i < len; i++) {
            let str = s.substring(0, i) + s.substring(i + 1, len + 1);
            let l = str.length;
            let s1 = str.substring(0, Math.floor(l / 2));
            let s2 = str.substring(l - Math.floor(l / 2), l).split('').reverse().join('');
            if (s1 == s2) return true;
        }

        return false;

    };
</script>
</body>
</html>